<html>
<body>
<h1>Contoh Form Input Konten</h1>
<form>
    <label for="content">Konten Artikel</label>
    <div id="editor"></div>
    <br>
    <label for="keyword-input">Kata Kunci</label>
    <input type="text" id="keyword-input" placeholder="Masukkan kata kunci">
    <br>
    <button type="button" onclick="analyze()">Analisis On-Page</button>
</form>

<h2>Hasil Analisis On-Page</h2>
<p>Jumlah kata: <span id="word-count"></span></p>
<p>Jumlah kata kunci: <span id="keyword-count"></span></p>
<p>Kepadatan kata kunci: <span id="keyword-density"></span>%</p>
<p>Heading tag yang kurang digunakan: <span id="heading-tags"></span></p>
<p>Meta tag tidak terisi dengan benar: <span id="meta-tags"></span></p>

<script src="https://cdn.quilljs.com/1.3.6/quill.js"></script>
<link href="https://cdn.quilljs.com/1.3.6/quill.snow.css" rel="stylesheet">
<script>
    var quill = new Quill('#editor', {
        theme: 'snow'
    });

    function analyze() {
        var content = quill.root.innerHTML.trim();
        var keywords = document.querySelector('#keyword-input').value.split(',');
        var wordCount = quill.getText().trim().split(/\s+/).length;
        var keywordCounts = keywords.map(keyword => (content.match(new RegExp(keyword.trim(), 'gi')) || []).length);
        var keywordDensities = keywordCounts.map(keywordCount => ((keywordCount / wordCount) * 100).toFixed(2));
        var headings = quill.container.querySelectorAll('h1, h2, h3, h4, h5, h6');
        var headingTags = Array.from(headings)
            .filter(tag => !content.includes(tag.textContent))
            .map(tag => tag.tagName.toLowerCase());
        var metaTags =
            !(document.querySelector('title')) &&
            !(document.querySelector('meta[name="description"]'));

        document.querySelector('#word-count').innerHTML = wordCount;
        document.querySelector('#keyword-count').innerHTML = keywordCounts.join(', ');
        document.querySelector('#keyword-density').innerHTML = keywordDensities.join(', ') + '%';
        document.querySelector('#heading-tags').innerHTML = headingTags.join(', ');
        document.querySelector('#meta-tags').innerHTML = metaTags ? 'Tidak ada' : 'Ada';
    }
</script>
</body>
</html>
